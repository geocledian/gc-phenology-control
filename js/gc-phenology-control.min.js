"use strict";const gcPhenologyLocales={en:{options:{title:"Phenology",date_format_hint:"YYYY-MM-DD"},phenology:{settings:"Phenology options",startdate:"Start date",enddate:"End date",getPhenology:"Get Phenology",reset:"Reset"}},de:{options:{title:"Ph채nologie",date_format_hint:"JJJJ-MM-TT"},phenology:{settings:"Ph채nologie Einstellungen",startdate:"Anfangsdatum",enddate:"Enddatum",getPhenology:"Ph채nologie",reset:"Zur체cksetzen"}}};Vue.component("gc-phenology",{props:{gcWidgetId:{type:String,default:"phenology1",required:!0},gcLayout:{type:String,default:"vertical"},gcAvailableOptions:{type:String,default:"widgetTitle"},gcWidgetCollapsed:{type:Boolean,default:!1},gcLanguage:{type:String,default:"en"},gcStartdate:{type:String,default:""},gcEnddate:{type:String,default:""}},template:'<div :id="this.gcWidgetId" class="">\n\n                <p :class="[\'gc-options-title\', \'is-size-6\', gcWidgetCollapsed ? \'is-grey\' : \'is-orange\']" \n                  style="cursor: pointer; margin-bottom: 0.5em;"    \n                  v-on:click="togglePhenology" \n                  v-show="availableOptions.includes(\'widgetTitle\')"> \n                  {{ $t(\'options.title\')}}\n                  <i :class="[!gcWidgetCollapsed ? \'\': \'is-active\', \'fas\', \'fa-angle-down\', \'fa-sm\']"></i>\n                </p>\n\n                \x3c!-- phenology container --\x3e\n                <div :class="[!gcWidgetCollapsed ? \'\': \'is-hidden\']" style="margin-bottom: 1em;">\n\n                  <div style="margin-top: 0.5em; margin-bottom: 0.5em;">\n                    <p :class="[\'is-6 \', !phenologySettings ? \'is-grey\' : \'is-orange\']" \n                    v-on:click="phenologySettings =! phenologySettings" style="cursor: pointer; margin-bottom: 0.5em!important;">\n                    {{ $t(\'phenology.settings\') }} \n                    <i :class="[phenologySettings ? \'\': \'is-active\', \'fas\', \'fa-angle-down\', \'fa-sm\']"></i>\n                    </p>\n                  </div>\n\n                  \x3c!-- pheno settings --\x3e\n                  <div :class="[phenologySettings ? \'\' : \'is-hidden\', layoutCSSMap[\'alignment\'][gcLayout]]">\n                    <div :class="[\'field\', \'gc-field-\'+gcLayout]">\n                      <label class="label is-grey is-small has-text-left"> {{ $t(\'phenology.startdate\') }} </label>\n                      <div class="control">\n                        <input :id="\'inpstartdate_\' + gcWidgetId" type="text" class="input is-small" v-bind:placeholder="$t(\'options.date_format_hint\')" v-model="startDate">\n                      </div>\n                    </div>\n                    <div :class="[\'field\', \'gc-field-\'+gcLayout]">\n                      <label class="label is-grey is-small has-text-left"> {{ $t(\'phenology.enddate\') }} </label>\n                      <div class="control">\n                        <input :id="\'inpenddate_\' + gcWidgetId" type="text" class="input is-small" v-bind:placeholder="$t(\'options.date_format_hint\')" v-model="endDate">\n                      </div>\n                    </div>\n\n                  </div> \x3c!-- pheno settings --\x3e\n        \n                  \x3c!-- pheno buttons --\x3e\n                  <div class="is-flex" style="padding-top: 1em;">\n                    <button class="button is-light is-orange gc-button-analytics" v-on:click="getPhenology()">\n                      <span class="content"><i class="fas fa-seedling fa-sm"></i> {{ $t(\'phenology.getPhenology\')}} </span>\n                    </button>\n                    <button class="button is-light is-orange" v-on:click="resetPhenology()" v-bind:title="$t(\'phenology.reset\')">\n                      <i class="fas fa-undo fa-sm"></i><span class="content"></span>\n                    </button>\n                  </div>\x3c!-- pheno buttons --\x3e\n\n                </div>\x3c!-- phenology container --\x3e\n\n            </div>\x3c!-- gcWidgetId --\x3e',data:function(){return console.debug("gc-phenology - data()"),{phenology:"",phenologySettings:!0,layoutCSSMap:{alignment:{vertical:"is-inline-block",horizontal:"is-flex"}}}},i18n:{locale:this.currentLanguage,messages:gcPhenologyLocales},created:function(){console.debug("gc-phenology! - created()"),this.changeLanguage()},mounted:function(){console.debug("gc-phenology! - mounted()");try{this.changeLanguage()}catch(ex){}this.startdateCalendar=new bulmaCalendar(document.getElementById("inpstartdate_"+this.gcWidgetId),{startDate:new Date,dateFormat:"yyyy-mm-dd",lang:this.gcLanguage,overlay:!1,closeOnOverlayClick:!0,closeOnSelect:!0,onSelect:function(e){var a=new Date(e.valueOf()+864e5);this.startDate=a.toISOString().split("T")[0]}.bind(this)}),this.enddateCalendar=new bulmaCalendar(document.getElementById("inpenddate_"+this.gcWidgetId),{startDate:new Date,dateFormat:"yyyy-mm-dd",lang:this.gcLanguage,overlay:!1,closeOnOverlayClick:!0,closeOnSelect:!0,onSelect:function(e){var a=new Date(e.valueOf()+864e5);this.endDate=a.toISOString().split("T")[0]}.bind(this)})},computed:{availableOptions:{get:function(){return this.gcAvailableOptions.split(",")}},currentLanguage:{get:function(){return this.gcLanguage}},startDate:{get:function(){return this.gcStartdate},set:function(value){this.$root.$emit("phStartdateChange",value)}},endDate:{get:function(){return this.gcEnddate},set:function(value){this.$root.$emit("phEnddateChange",value)}}},watch:{currentLanguage(newValue,oldValue){this.changeLanguage()}},methods:{togglePhenology(){this.gcWidgetCollapsed=!this.gcWidgetCollapsed},changeLanguage(){this.$i18n.locale=this.currentLanguage},getPhenology(){this.$root.$emit("getPhenology")},resetPhenology(){this.$root.$emit("resetPhenology")}}});